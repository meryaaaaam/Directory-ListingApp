<app-user-sidemenu></app-user-sidemenu>
<!-- Start Main Content Wrapper Area -->
<div class="main-content d-flex flex-column">

  <app-user-navbar></app-user-navbar>
  <!-- Breadcrumb Area -->
  <div class="breadcrumb-area" *ngFor="let Content of breadcrumb;">
    <h1>{{ Content.title }}</h1>
    <ol class="breadcrumb">
      <li class="item"><a routerLink="/">Home</a></li>
      <li class="item"><a routerLink="dashboard">{{ Content.subTitle }}</a></li>
      <li class="item">{{ Content.title }}</li>
    </ol>
  </div>
  <!-- End Breadcrumb Area -->

  <!-- Start -->
  <div class="row">
    <div class="col-lg-6 col-md-12">
      <div class="my-profile-box">
        <h3>Informations de l'entreprise</h3>

        <div class="row">
          <form #f="ngForm" >
          <div class="col-lg-12 col-md-12">
              <div class="form-group profile-box">
                  <img src="{{image}} " alt="image">
                  <div class="file-upload">

                      <input type="file" name="logo" id="file" class="form-control" (change)="fileEvent($event)" />

                  </div>

              </div></div>
              <button type="submit" class="inputfile" (click)="updateprofile2()">Save Change</button>
            </form>
          </div>


        <!-- <div class="row">
            <div class="col-lg-12 col-md-12">
              <div class="form-group profile-box">

                  <div class="file-upload">
                      <input type="file" name="file" id="file" class="inputfile" />
                      <label for="file"><i class='bx bx-upload'></i> Upload Photo</label>
                  </div>
              </div>
          </div>
      </div>-->





        <form>
          <p-toast></p-toast>
          <div class="row">



            <div class="col-lg-6 col-md-6">
              <div class="form-group">

                <label>Username</label>
                <input type="text" class="form-control" [(ngModel)]="user.username" name="username">
              </div>
            </div>

            <div class="col-lg-6 col-md-6">
              <div class="form-group">

                <label>Nom d'entreprise</label>
                <input type="text" class="form-control" [(ngModel)]="user.companyname" name="companyname">
              </div>
            </div>



            <div class="col-xl-6 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Téléphone de l'entreprise</label>
                <input type="text" class="form-control" [(ngModel)]="user.phone" name="phone">
              </div>
            </div>

            <div class="col-xl-6 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Adresse de l'entreprise</label>
                <input type="text" class="form-control" [(ngModel)]="user.adress" name="adresse">
              </div>
            </div>

            <div class="col-xl-6 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Site internet</label>
                <input type="text" class="form-control" [(ngModel)]="user.website" name="website">
              </div>
            </div>


            <div class="col-xl-6 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Type Ligne</label>



                <select [(ngModel)]="user.Line_type" name="user.Line_type">
                  <option [ngValue]="null" disabled> Type de ligne </option>
                  <option *ngFor="let m of line" selected [ngValue]=m.title>{{ m.title }}</option>

                </select>
              </div>
            </div>


            <div class="col-xl-6 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Adresse</label>
                <input type="text" class="form-control" [(ngModel)]="user.adress" name="user.adress">
              </div>
            </div>
            <div class="col-xl-6 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Ville</label>
                <input type="text" class="form-control" [(ngModel)]="user.city" name="user.city">
              </div>
            </div>

            <div class="col-xl-4 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Code postal</label>
                <input type="text" class="form-control" [(ngModel)]="user.code" name="user.code">
              </div>
            </div>


            <div class="col-xl-6 col-lg-12 col-md-12">
              <div class="form-group">
                <label>Selectionner province</label>



                <select [(ngModel)]="user.province_id" name="user.province_id">
                  <option [ngValue]="null" disabled> Province </option>
                  <option *ngFor="let m of states" selected [ngValue]=m.id>{{ m.name }}</option>

                </select>
              </div>
            </div>
            <!--<div class="col-lg-8 col-md-8 pl-3">
            <div class="form-group  ">
              <label><i class='bx bx-duplicate'></i> Province</label>
              <p-dropdown  [options]="states" name="user.province_id"[(ngModel)]="user.province_id" optionLabel="name"  optionValue="id"   [showClear]="true" placeholder="Selectionner une province"  >
                <ng-template pTemplate="selectedItem" >
                    <div class="country-item country-item-value"  *ngIf="user.province_id">
                         <div >{{ user.province_id.id }}</div>
                    </div>
                </ng-template>
                <ng-template let-c pTemplate="name">
                    <div class="country-item">
                         <div>{{ c.name }}</div>
                    </div>
                </ng-template>
            </p-dropdown>
            </div>
        </div>-->


            <!--<div class="col-xl-8 col-lg-12 col-md-12">
            <div class="form-group">
              <label>Province</label>
               <select [(ngModel)]="user.province_id" name="user.province_id">
                <option [ngValue]="null" disabled selected> </option>
                <option *ngFor="let m of states" selected value={{ m.id }}></option>
              </select>



            </div>
          </div>-->


            <div class="col-xl-12 col-lg-12 col-md-12">
              <div class="sidebar-widgets">
                <div class="box row">
                  <div class="col-10">
                    <div class="col-10">
                      <span class="title">Disponibles pour les organismes récipiendaires de l’IACNC </span>
                    </div>

                  </div>
                  <div class="col-2"
                    pTooltip="Nous recrutons des professionnels hautement recommandables et collaboratifs pour intervenir dans l’Initiative Appuyer les communautés noires du Canada. Nous cherchons des « Leaders de chantier » guidés par la volonté de placer le renforcement de capacités des communautés noires au cœur de leurs préoccupations. Nous sollicitons leur expertise, expérience et indépendance.">
                    <label class="switch">
                      <input type="checkbox" [(ngModel)]="users.IACNC" name="user.IACNC" pTooltip="Enter your username">
                      <span></span>
                    </label></div>

                </div>
              </div>
            </div>


            <div class="col-lg-12 col-md-12">
              <div class="form-group">
                <button type="submit" (click)="updateprofile()">Save Change</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="col-lg-6 col-md-12">

      <div class="my-profile-box">
        <h3>Informations de contact</h3>

        <form>
          <div class="row">
            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                <label>Prénom</label>
                <input type="text" class="form-control" [(ngModel)]="user.firstname" name="firstname">
              </div>
            </div>

            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                <label>Nom</label>
                <input type="text" class="form-control" [(ngModel)]="user.lastname" name="lastname">
              </div>
            </div>

            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                <label>Téléphone personnel</label>
                <input type="text" class="form-control" [(ngModel)]="user.phone" name="phone">
              </div>
            </div>
            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                <label>Courriel personnel</label>
                <input type="email" class="form-control" [(ngModel)]="user.email" name="email">
              </div>
            </div>

            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                <label>NEQ</label>
                <input type="text" class="form-control" [(ngModel)]="user.NEQ" name="NEQ">
              </div>
            </div>

            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                <label>Langue de correspondance</label>
                <input type="text" class="form-control" [(ngModel)]="user.language" name="language">
              </div>
            </div>




            <div class="col-lg-12 col-md-12">
              <div class="form-group">
                <label>Bio</label>
                <textarea cols="30" rows="9" placeholder="Short description about you..." class="form-control"
                  [(ngModel)]="user.bio" name="bio"></textarea>
              </div>
            </div>


            <div class="col-lg-12 col-md-12 pt-5">
              <div class="form-group">
                <button type="submit" (click)="updateprofile()">Save changes</button>
              </div>
            </div>
          </div>
        </form>
      </div>

      <br>
      <div class="my-profile-box ">
        <h3>Produit et services</h3>

        <form>
          <div class="row">
            <p-listbox [options]="userservice"  optionLabel="label"></p-listbox>
          </div>
        </form>



    </div>

    </div>




  </div>


  <!-- End -->



  <div class="flex-grow-1"></div>

  <!-- Start -->
  <div class="row pt-5">
    <div class="col-lg-12 col-md-12">
      <div class="my-profile-box">
        <h3>Service et Produit</h3>

        <form>



          <div class="col-lg-12 col-md-12 p-0"*ngIf="userservice">
            <div class="form-group  ">
              <label><i class='bx bx-duplicate'></i> categories</label>
              <p-dropdown [options]="categories" name="selcttedcategory" [(ngModel)]="selcttedcategory" [disabled]="true"
                optionLabel="label" [filter]="true" filterBy="label" [showClear]="true" placeholder="Select a Category">
                <ng-template pTemplate="selectedItem">
                  <div class="country-item country-item-value" *ngIf="selcttedcategory">
                    <div>{{ selcttedcategory.label }}</div>
                  </div>
                </ng-template>
                <ng-template let-c pTemplate="label">
                  <div class="country-item">
                    <div>{{ c.label }}</div>
                  </div>
                </ng-template>
              </p-dropdown>
            </div>
          </div>


          <div class="col-lg-12 col-md-12 p-0"*ngIf="!userservice">
            <div class="form-group  ">
              <label><i class='bx bx-duplicate'></i> categories</label>
              <p-dropdown [options]="categories" name="selcttedcategory" [(ngModel)]="selcttedcategory"
                optionLabel="label" [filter]="true" filterBy="label" [showClear]="true" placeholder="Select a Category">
                <ng-template pTemplate="selectedItem">
                  <div class="country-item country-item-value" *ngIf="selcttedcategory">
                    <div>{{ selcttedcategory.label }}</div>
                  </div>
                </ng-template>
                <ng-template let-c pTemplate="label">
                  <div class="country-item">
                    <div>{{ c.label }}</div>
                  </div>
                </ng-template>
              </p-dropdown>
            </div>
          </div>




          <div class="col-lg-12 col-md-12 p-0" *ngIf="selcttedcategory">
            <div class="form-group  ">
              <label><i class='bx bx-duplicate'></i> Sous categories</label>
              <span class="p-fluid">
                <p-autoComplete [(ngModel)]="selcttedsubcategory" name="selcttedsubcategory" [suggestions]="filteredSub"
                  (completeMethod)="filterSubCategories($event)" field="label" [multiple]="true" [dropdown]="true">
                </p-autoComplete>
              </span>

            </div>
          </div>

          <div class="col-lg-12 col-md-12 p-0" *ngIf="selcttedsubcategory && selcttedcategory">
            <div class="form-group  ">
              <label><i class='bx bx-duplicate'></i> Services</label>
              <span class="p-fluid">
                <p-autoComplete [(ngModel)]="selectedServices" [suggestions]="filteredServices" name="selectedServices"
                  (completeMethod)="filterServices($event)" field="label" [multiple]="true" [dropdown]="true">
                </p-autoComplete>
              </span>

            </div>
          </div>






          <div class="col-lg-12 col-md-12" *ngIf="userservice">
            <div class="form-group">
              <button type="button" disabled >Save Change</button>
            </div>
          </div>

          <div class="col-lg-12 col-md-12" *ngIf="!userservice">
            <div class="form-group">
              <button type="submit"  (click)="AddServices()">Save Change</button>
            </div>
          </div>


        </form>
      </div>
    </div>






  </div>


  <!-- End -->

</div>
<!-- End Main Content Wrapper Area -->
